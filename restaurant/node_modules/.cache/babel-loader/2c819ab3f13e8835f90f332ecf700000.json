{"ast":null,"code":"var _jsxFileName = \"C:\\\\React_Projects\\\\restaurant\\\\restaurant\\\\src\\\\Login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { ROUTES_WITHOUT_HOMEPAGE } from '../Register/constants';\nimport Axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { setCookie } from 'cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validateLoginInput({\n  email,\n  pass,\n  setRedirect,\n  clearInputFields,\n  setInvalidInput\n}) {\n  Axios.post(\"http://localhost:4000/login\", {\n    mail: email,\n    pass: pass\n  }).then(response => {\n    console.log(response.data);\n\n    switch (response.data) {\n      case true:\n        setCookie(\"email\", email, 365);\n        setRedirect(true);\n        break;\n\n      default:\n        clearInputFields();\n        setInvalidInput(true);\n        break;\n    }\n  });\n}\n\nfunction clearInputFields() {\n  document.getElementById(\"input-mail\").value = \"\";\n  document.getElementById(\"input-pass\").value = \"\";\n}\n\nconst Login = props => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [pass, setPass] = useState('');\n  const [users, setUsers] = useState([]);\n  const [invalidInput, setInvalidInput] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  useEffect(() => {\n    Axios.get(\"http://localhost:4000/all\").then(response => {\n      setUsers(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  let routing = useHistory();\n  const currentLocation = props.location.pathname;\n  if (ROUTES_WITHOUT_HOMEPAGE[currentLocation]) return null;\n  {\n    redirect && routing.push('./home');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-gradient-to-b from-blue-300 to-blue-500 flex flex-col md:flex-row items-center justify-evenly\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-80 w-1/3 max-w-lg p-4 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"email\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Mail:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"input-mail\",\n        type: \"text\",\n        placeholder: \"Enter mail\",\n        name: \"email\",\n        className: \"p-2 border-2 border-green-500\",\n        onChange: e => setEmail(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"password\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"input-pass\",\n        type: \"password\",\n        placeholder: \"Enter password\",\n        name: \"password\",\n        className: \"p-2 border-2 border-green-500\",\n        onChange: e => setPass(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-evenly h-full w-full\",\n        children: [invalidInput && /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"login-error\",\n          children: \"Invalid mail or password!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-green-600 font-general-font font-bold flex items-center text-3xl sm:text-lg justify-center h-12 w-1/2 sm:w-2/3 text-white cursor-pointer\",\n          onClick: () => validateLoginInput({\n            email,\n            pass,\n            users,\n            setRedirect,\n            setInvalidInput,\n            clearInputFields\n          }),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-52 w-1/3 md:h-64 md:w-64 lg:h-72 lg:w-72 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/logo_login.jpg\",\n        alt: \"login\",\n        className: \"rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"dkTn2pb+xJXQi4jSEGAqoXLTkBU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/React_Projects/restaurant/restaurant/src/Login/Login.jsx"],"names":["React","ROUTES_WITHOUT_HOMEPAGE","Axios","useState","useEffect","useHistory","setCookie","validateLoginInput","email","pass","setRedirect","clearInputFields","setInvalidInput","post","mail","then","response","console","log","data","document","getElementById","value","Login","props","setEmail","setPass","users","setUsers","invalidInput","redirect","get","catch","error","routing","currentLocation","location","pathname","push","e","currentTarget"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { ROUTES_WITHOUT_HOMEPAGE } from '../Register/constants'\r\nimport Axios from 'axios'\r\nimport { useState , useEffect} from 'react';\r\nimport { useHistory } from 'react-router'\r\nimport { setCookie } from 'cookies'\r\n\r\nfunction validateLoginInput({email, pass, setRedirect, clearInputFields, setInvalidInput}){\r\n    Axios.post(\"http://localhost:4000/login\" , {\r\n        mail : email,\r\n        pass : pass\r\n    }).then((response) => {\r\n        console.log(response.data);\r\n        switch(response.data){\r\n            case true:\r\n                setCookie(\"email\" , email , 365);\r\n                setRedirect(true);\r\n                break;\r\n            default:\r\n                clearInputFields();\r\n                setInvalidInput(true);\r\n                break;\r\n        }\r\n    })\r\n}\r\n\r\nfunction clearInputFields(){\r\n    document.getElementById(\"input-mail\").value = \"\";\r\n    document.getElementById(\"input-pass\").value = \"\";\r\n}\r\n\r\nconst Login = (props) => {\r\n    const [email , setEmail] = useState('');\r\n    const [pass , setPass] = useState('');\r\n    const [users , setUsers] = useState([]);\r\n    const [invalidInput , setInvalidInput] = useState(false);\r\n    const [redirect , setRedirect] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        Axios.get(\"http://localhost:4000/all\")\r\n        .then(response =>{\r\n            setUsers(response.data);\r\n        })\r\n        .catch(error =>{\r\n            console.log(error);\r\n        })\r\n    } , [])\r\n\r\n    let routing = useHistory();\r\n    const currentLocation = props.location.pathname;\r\n    if(ROUTES_WITHOUT_HOMEPAGE[currentLocation]) return null;\r\n    {redirect && routing.push('./home')}\r\n    \r\n    return(\r\n        <div className=\"h-screen bg-gradient-to-b from-blue-300 to-blue-500 flex flex-col md:flex-row items-center justify-evenly\">\r\n            <div className = \"h-80 w-1/3 max-w-lg p-4 flex flex-col\">\r\n                <label for = \"email\"><b>Mail:</b></label>\r\n                <input id = \"input-mail\" type = \"text\" placeholder = \"Enter mail\" name = \"email\" className=\"p-2 border-2 border-green-500\" onChange = {(e)=>setEmail(e.currentTarget.value)}></input>\r\n                <label for = \"password\"><b>Password:</b></label>\r\n                <input id = \"input-pass\" type = \"password\" placeholder = \"Enter password\" name = \"password\" className=\"p-2 border-2 border-green-500\" onChange = {(e)=>setPass(e.currentTarget.value)}></input>\r\n                <div className=\"flex flex-col items-center justify-evenly h-full w-full\">\r\n                    {\r\n                        invalidInput &&\r\n                        <h1 className = \"login-error\">Invalid mail or password!</h1>\r\n                    }\r\n                    <button\r\n                        type = \"submit\"\r\n                        className = \"bg-green-600 font-general-font font-bold flex items-center text-3xl sm:text-lg justify-center h-12 w-1/2 sm:w-2/3 text-white cursor-pointer\"\r\n                        onClick = {() => validateLoginInput({email , pass , users , setRedirect , setInvalidInput , clearInputFields})}>\r\n                            Login\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"h-52 w-1/3 md:h-64 md:w-64 lg:h-72 lg:w-72 flex items-center justify-center\">\r\n                <img src=\"/images/logo_login.jpg\"  alt = \"login\" className = \"rounded-full\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}