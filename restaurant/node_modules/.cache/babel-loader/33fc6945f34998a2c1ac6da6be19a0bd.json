{"ast":null,"code":"var _jsxFileName = \"C:\\\\React_Projects\\\\restaurant\\\\restaurant\\\\src\\\\Register\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { registerPerson } from './logic';\nimport Field from '../RegisterSubComp/Field';\nimport { FIELDS } from './constants';\nimport { ROUTES_WITHOUT_HOMEPAGE } from './constants';\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = props => {\n  _s();\n\n  const [nick, setNick] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [pass, setPass] = useState('');\n  const [rePass, setRePass] = useState('');\n  const [email, setEmail] = useState('');\n  const [users, setUsers] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  const [invalidRegister, setInvalidRegister] = useState({\n    nick: '',\n    firstName: '',\n    lastName: '',\n    pass: '',\n    rePass: '',\n    email: ''\n  });\n  useEffect(() => {\n    Axios.get(\"http://localhost:4000/all\").then(response => {\n      setUsers(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  function getErrorMessage(value) {\n    return invalidRegister[value];\n  }\n\n  let routing = useHistory();\n  const currentLocation = props.location.pathname;\n  if (ROUTES_WITHOUT_HOMEPAGE[currentLocation]) return null;\n  {\n    redirect && routing.push('./login');\n  }\n  return /*#__PURE__*/_jsxDEV(\"container\", {\n    className: \"h-screen bg-gradient-to-b from-gray-300 to bg-gray-700 flex flex-col md:flex-row items-center justify-evenly\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-3/7 w-1/3 max-w-lg p-4 flex flex-col\",\n      children: [FIELDS.map(currentField => {\n        return /*#__PURE__*/_jsxDEV(Field, {\n          type: currentField.type,\n          icon: currentField.icon,\n          value: eval(currentField.value),\n          setField: eval(currentField.setField),\n          errMsg: getErrorMessage(currentField.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-evenly\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center justify-center mt-10 w-1/2 h-3/5 bg-blue-400 font-general-font\",\n          onClick: () => registerPerson(nick, firstName, lastName, pass, rePass, email, users, setInvalidRegister, setRedirect),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/logo_register.jpg\",\n        className: \"rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Register, \"TAFtEu9KtN8jYz4G+P6s6kzSFY8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/React_Projects/restaurant/restaurant/src/Register/Register.js"],"names":["React","useEffect","useState","useHistory","registerPerson","Field","FIELDS","ROUTES_WITHOUT_HOMEPAGE","Axios","Register","props","nick","setNick","firstName","setFirstName","lastName","setLastName","pass","setPass","rePass","setRePass","email","setEmail","users","setUsers","redirect","setRedirect","invalidRegister","setInvalidRegister","get","then","response","data","catch","error","console","log","getErrorMessage","value","routing","currentLocation","location","pathname","push","map","currentField","type","icon","eval","setField"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport {useState} from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport {registerPerson} from './logic'\r\nimport Field from '../RegisterSubComp/Field'\r\nimport { FIELDS } from './constants'\r\nimport { ROUTES_WITHOUT_HOMEPAGE } from './constants'\r\nimport Axios from \"axios\"\r\n\r\nconst Register = (props)=>{\r\n\r\n    const [nick , setNick] = useState('');\r\n    const [firstName , setFirstName] = useState('');\r\n    const [lastName , setLastName] = useState('');\r\n    const [pass , setPass] = useState('');  \r\n    const [rePass , setRePass] = useState('');\r\n    const [email , setEmail] = useState('');\r\n    const [users , setUsers] = useState([]);\r\n    const [redirect , setRedirect] = useState(false);\r\n    const [invalidRegister , setInvalidRegister] = useState({nick : '' , firstName : '' , lastName : '' , pass : '' , rePass : '' , email : ''});\r\n\r\n    useEffect(()=>{\r\n        Axios.get(\"http://localhost:4000/all\")\r\n        .then(response =>{\r\n            setUsers(response.data);\r\n        })\r\n        .catch(error =>{\r\n            console.log(error);\r\n        })\r\n    } , [])\r\n\r\n    function getErrorMessage(value){\r\n        return invalidRegister[value];\r\n    }\r\n\r\n    let routing = useHistory();\r\n    const currentLocation = props.location.pathname;\r\n    if(ROUTES_WITHOUT_HOMEPAGE[currentLocation]) return null;\r\n    {redirect && routing.push('./login')}\r\n\r\n    return(\r\n        <container className = 'h-screen bg-gradient-to-b from-gray-300 to bg-gray-700 flex flex-col md:flex-row items-center justify-evenly'>\r\n            <div className = 'h-3/7 w-1/3 max-w-lg p-4 flex flex-col'>\r\n                {FIELDS.map((currentField)=>{\r\n                        return(\r\n                            <Field type = {currentField.type} icon = {currentField.icon} value = {eval(currentField.value)}\r\n                            setField = {eval(currentField.setField)} errMsg = {getErrorMessage(currentField.value)}/>\r\n                        )\r\n                    })}\r\n                <div className = \"flex items-center justify-evenly\">\r\n                    <button className = 'flex items-center justify-center mt-10 w-1/2 h-3/5 bg-blue-400 font-general-font' onClick = {() => registerPerson(nick , firstName , lastName , pass , rePass , email , users , setInvalidRegister , setRedirect)}>Submit</button>\r\n                </div>\r\n            </div>\r\n            <div className = \"flex items-center justify-center\">\r\n                <img src='/images/logo_register.jpg' className = \"rounded-full\"></img>\r\n            </div>\r\n        </container>    \r\n    );\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}