{"ast":null,"code":"import { REGEX_HOLDER } from \"./Constants\";\nimport { addUser } from \"./RegisterNewUser\";\nimport { allEntries } from \"./RegisterNewUser\";\n\nfunction validateFields(currUser, currErr) {\n  for (const [field, regexList] of Object.entries(REGEX_HOLDER)) {\n    var errorList = '';\n    regexList.forEach(regex => {\n      for (var key in regex) {\n        let curr_key = key;\n        let curr_value = regex[key];\n        let re = new RegExp(curr_key);\n\n        if (!re.test(currUser[field])) {\n          errorList = errorList + curr_value + '\\n';\n        }\n      }\n    });\n\n    if ((field == 'pass' || field == 'rePass') && currUser.pass !== currUser.rePass) {\n      errorList += '-Passwords should match!\\n';\n    }\n\n    currErr[field] = errorList;\n  }\n}\n\nexport function registerPerson(nick, firstName, lastName, pass, rePass, email, setInvalidRegister) {\n  const currUser = {\n    nick: nick,\n    firstName: firstName,\n    lastName: lastName,\n    pass: pass,\n    rePass: rePass,\n    email: email\n  };\n  var currErr = {\n    nick: '',\n    firstName: '',\n    lastName: '',\n    pass: '',\n    rePass: '',\n    email: ''\n  };\n  validateFields(currUser, currErr);\n  const keys = Object.keys(currErr);\n  let valid_user = true;\n  keys.forEach((key, index) => {\n    if (currErr[key].length != 0) {\n      valid_user = false;\n      setInvalidRegister(currErr);\n    }\n  });\n  const currEntries = allEntries;\n\n  if (valid_user) {\n    alert(\"User registered succesfully!\");\n    addUser(currUser);\n    setAlreadyRegistered(false);\n  }\n}\nexport default validateFields;","map":{"version":3,"sources":["C:/React_Projects/restaurant/restaurant/src/Utils/Register/RegisterValidation.js"],"names":["REGEX_HOLDER","addUser","allEntries","validateFields","currUser","currErr","field","regexList","Object","entries","errorList","forEach","regex","key","curr_key","curr_value","re","RegExp","test","pass","rePass","registerPerson","nick","firstName","lastName","email","setInvalidRegister","keys","valid_user","index","length","currEntries","alert","setAlreadyRegistered"],"mappings":"AAAA,SAASA,YAAT,QAA6B,aAA7B;AACA,SAAQC,OAAR,QAAsB,mBAAtB;AACA,SAASC,UAAT,QAA2B,mBAA3B;;AAEA,SAASC,cAAT,CAAwBC,QAAxB,EAAmCC,OAAnC,EAA2C;AACvC,OAAI,MAAM,CAACC,KAAD,EAASC,SAAT,CAAV,IAAiCC,MAAM,CAACC,OAAP,CAAeT,YAAf,CAAjC,EAA8D;AAC1D,QAAIU,SAAS,GAAG,EAAhB;AACAH,IAAAA,SAAS,CAACI,OAAV,CAAkBC,KAAK,IAAI;AACvB,WAAI,IAAIC,GAAR,IAAeD,KAAf,EAAqB;AACjB,YAAIE,QAAQ,GAAGD,GAAf;AACA,YAAIE,UAAU,GAAGH,KAAK,CAACC,GAAD,CAAtB;AACA,YAAIG,EAAE,GAAG,IAAIC,MAAJ,CAAWH,QAAX,CAAT;;AACA,YAAG,CAACE,EAAE,CAACE,IAAH,CAAQd,QAAQ,CAACE,KAAD,CAAhB,CAAJ,EAA6B;AACzBI,UAAAA,SAAS,GAAGA,SAAS,GAAGK,UAAZ,GAAyB,IAArC;AACH;AACJ;AACJ,KATD;;AAUA,QAAG,CAACT,KAAK,IAAI,MAAT,IAAmBA,KAAK,IAAI,QAA7B,KAA2CF,QAAQ,CAACe,IAAT,KAAkBf,QAAQ,CAACgB,MAAzE,EAAiF;AAC7EV,MAAAA,SAAS,IAAI,4BAAb;AACH;;AACDL,IAAAA,OAAO,CAACC,KAAD,CAAP,GAAiBI,SAAjB;AACH;AACJ;;AAED,OAAO,SAASW,cAAT,CAAwBC,IAAxB,EAA+BC,SAA/B,EAA2CC,QAA3C,EAAsDL,IAAtD,EAA6DC,MAA7D,EAAsEK,KAAtE,EAA8EC,kBAA9E,EAAiG;AACpG,QAAMtB,QAAQ,GAAG;AAACkB,IAAAA,IAAI,EAAGA,IAAR;AAAeC,IAAAA,SAAS,EAAGA,SAA3B;AAAuCC,IAAAA,QAAQ,EAAGA,QAAlD;AAA6DL,IAAAA,IAAI,EAAGA,IAApE;AAA2EC,IAAAA,MAAM,EAAGA,MAApF;AAA6FK,IAAAA,KAAK,EAAGA;AAArG,GAAjB;AACA,MAAIpB,OAAO,GAAG;AAACiB,IAAAA,IAAI,EAAG,EAAR;AAAaC,IAAAA,SAAS,EAAG,EAAzB;AAA8BC,IAAAA,QAAQ,EAAG,EAAzC;AAA8CL,IAAAA,IAAI,EAAG,EAArD;AAA0DC,IAAAA,MAAM,EAAG,EAAnE;AAAwEK,IAAAA,KAAK,EAAG;AAAhF,GAAd;AACAtB,EAAAA,cAAc,CAACC,QAAD,EAAYC,OAAZ,CAAd;AACA,QAAMsB,IAAI,GAAGnB,MAAM,CAACmB,IAAP,CAAYtB,OAAZ,CAAb;AAEA,MAAIuB,UAAU,GAAG,IAAjB;AACAD,EAAAA,IAAI,CAAChB,OAAL,CAAa,CAACE,GAAD,EAAOgB,KAAP,KAAgB;AACzB,QAAGxB,OAAO,CAACQ,GAAD,CAAP,CAAaiB,MAAb,IAAuB,CAA1B,EAA4B;AACxBF,MAAAA,UAAU,GAAG,KAAb;AACAF,MAAAA,kBAAkB,CAACrB,OAAD,CAAlB;AACH;AACJ,GALD;AAOA,QAAM0B,WAAW,GAAG7B,UAApB;;AAEA,MAAG0B,UAAH,EAAc;AACVI,IAAAA,KAAK,CAAC,8BAAD,CAAL;AACA/B,IAAAA,OAAO,CAACG,QAAD,CAAP;AACA6B,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH;AAEJ;AAED,eAAe9B,cAAf","sourcesContent":["import { REGEX_HOLDER } from \"./Constants\";\r\nimport {addUser} from \"./RegisterNewUser\"\r\nimport { allEntries } from \"./RegisterNewUser\";\r\n\r\nfunction validateFields(currUser , currErr){\r\n    for(const [field , regexList] of Object.entries(REGEX_HOLDER)){\r\n        var errorList = '';\r\n        regexList.forEach(regex => {\r\n            for(var key in regex){\r\n                let curr_key = key;\r\n                let curr_value = regex[key];\r\n                let re = new RegExp(curr_key)\r\n                if(!re.test(currUser[field])){\r\n                    errorList = errorList + curr_value + '\\n';\r\n                }\r\n            }\r\n        })\r\n        if((field == 'pass' || field == 'rePass') && (currUser.pass !== currUser.rePass)){\r\n            errorList += '-Passwords should match!\\n';\r\n        }\r\n        currErr[field] = errorList;\r\n    }\r\n}\r\n\r\nexport function registerPerson(nick , firstName , lastName , pass , rePass , email , setInvalidRegister){\r\n    const currUser = {nick : nick , firstName : firstName , lastName : lastName , pass : pass , rePass : rePass , email : email};\r\n    var currErr = {nick : '' , firstName : '' , lastName : '' , pass : '' , rePass : '' , email : ''};\r\n    validateFields(currUser , currErr);\r\n    const keys = Object.keys(currErr);\r\n\r\n    let valid_user = true;\r\n    keys.forEach((key , index) =>{\r\n        if(currErr[key].length != 0){\r\n            valid_user = false;\r\n            setInvalidRegister(currErr);\r\n        }\r\n    })\r\n\r\n    const currEntries = allEntries\r\n\r\n    if(valid_user){\r\n        alert(\"User registered succesfully!\");\r\n        addUser(currUser);\r\n        setAlreadyRegistered(false);\r\n    }\r\n\r\n}\r\n\r\nexport default validateFields;"]},"metadata":{},"sourceType":"module"}